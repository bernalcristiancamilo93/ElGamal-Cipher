"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5289],{5289:(Q,$,m)=>{m.r($),m.d($,{CifradoPageModule:()=>T});var I=m(6895),t=m(433),n=m(6114),x=m(2598),o=m(8256);function G(i,f){1&i&&(o.TgZ(0,"ion-col")(1,"ion-item",19)(2,"ion-label")(3,"p"),o._uU(4," Los parametros ingresados no presentan error. \xa1Puede continuar! "),o.qZA()()()())}const N=[{path:"",component:(()=>{class i{constructor(r){this.alertCtrl=r,this.claveForm=new t.cw({primoP:new t.NI("",t.kI.required),generadorG:new t.NI("",t.kI.required),numeroK:new t.NI("",t.kI.required),numLetrasPorBloque:new t.NI(2,t.kI.required)}),this.cifradoForm=new t.cw({textoClaroInput:new t.NI("",t.kI.required),aleatorioX:new t.NI("",t.kI.required),textoClaroFormateado:new t.NI,pesosTextoClaroFormateado:new t.NI,pesosCifradosOutput:new t.NI}),this.descifradoForm=new t.cw({textoCifradoInput:new t.NI("",t.kI.required),textoClaroOutput:new t.NI}),this.sonParametrosCorrectos=!1,this.alfabeto=[" ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]}verificarClave(){var r,e,a;const l=+(null===(r=this.claveForm.get("primoP"))||void 0===r?void 0:r.value),c=+(null===(e=this.claveForm.get("generadorG"))||void 0===e?void 0:e.value),u=+(null===(a=this.claveForm.get("numeroK"))||void 0===a?void 0:a.value);if(this.sonParametrosCorrectos=!1,this.esPrimo(l)){if(l<=25)return void this.notificacionError("P debe ser mayor al n\xfamero de letras del alfabeto");this.esGenerador(c,l)&&this.esPrimoRelativo(u,l-1)&&(this.sonParametrosCorrectos=!0)}}cifrar(){var e,a,l,c,u,g,v,h;this.claveForm.get("numLetrasPorBloque");const p=null===(e=this.cifradoForm.get("textoClaroInput"))||void 0===e?void 0:e.value.toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[.,\/#!$%\^&\*;:{}=\-_`~()!\xa1\xbf?]/g,"").split(""),P=[];for(const s of p)P.push(this.asignarPeso(s));const Z=+(null===(a=this.claveForm.get("primoP"))||void 0===a?void 0:a.value),w=[],b=[];for(let s=0;s<p.length;s++){let C="";C+=P[s],C+=P[s+1],C=+C,C<Z?(w.push(p[s]+p[s+1]),b.push(C),s++):(w.push("  "+p[s]),b.push(P[s]))}const q=+(null===(l=this.claveForm.get("generadorG"))||void 0===l?void 0:l.value),J=+(null===(c=this.cifradoForm.get("aleatorioX"))||void 0===c?void 0:c.value),k=+(null===(u=this.claveForm.get("numeroK"))||void 0===u?void 0:u.value),y=this.calculoExponenteModulo(q,J,Z),U=this.calculoExponenteModulo(y,k,Z),_=[];for(const s of b)_.push(this.cifrarPeso(s,U,Z));null===(g=this.cifradoForm.get("textoClaroFormateado"))||void 0===g||g.patchValue(w),null===(v=this.cifradoForm.get("pesosTextoClaroFormateado"))||void 0===v||v.patchValue(b);let F="";for(const s of _)F+=`(${s[0]}, ${s[1]});`;F=F.substring(0,F.length-1),null===(h=this.cifradoForm.get("pesosCifradosOutput"))||void 0===h||h.patchValue(F)}cifrarPeso(r,e,a){return[e,r*e%a]}descifrar(){var r,e,a;const l=null===(r=this.descifradoForm.get("textoCifradoInput"))||void 0===r?void 0:r.value.split(";"),c=[];for(const d of l)c.push(d.replace(/[()]/g,"").split(",").map(p=>+p));const u=+(null===(e=this.claveForm.get("primoP"))||void 0===e?void 0:e.value),g=c[0][0];let v=0;for(let d=1;d<u;d++)if((d*u+1)%g==0){v=(d*u+1)/g;break}const h=[];for(const d of c)h.push(d[1]*v%u);null===(a=this.descifradoForm.get("textoClaroOutput"))||void 0===a||a.patchValue(h)}asignarPeso(r){return this.alfabeto.findIndex(e=>e===r)}calculoExponenteModulo(r,e,a){if(1===a)return 0;let l=1;for(let c=0;c<e;c++)l=l*r%a;return l}esPrimoRelativo(r,e){for(let a=2;a<r;a++)if(r%a==0&&e%a==0)return this.notificacionError(`${r} no es primo relativo de Phi(p)`),!1;return!0}esGenerador(r,e){let a=1,l=this.calculoExponenteModulo(r,a,e);for(;l>1;)a++,l=this.calculoExponenteModulo(r,a,e);return a==e-1||(this.notificacionError(`${r} no es un generador para el grupo Z${e}`),!1)}esPrimo(r){if(2===r||3===r)return!0;if(r<=1||r%2==0||r%3==0)return this.notificacionError(`${r} no es un n\xfamero primo`),!1;for(let e=5;e*e<r;e+=6)if(r%e==0||r%(e+2)==0)return this.notificacionError(`${r} no es un n\xfamero primo`),!1;return!0}notificacionError(r){this.alertCtrl.create({header:"\xa1Error!",message:r,buttons:["Okay"]}).then(e=>{e.present()})}}return i.\u0275fac=function(r){return new(r||i)(o.Y36(n.Br))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-cifrado"]],decls:74,vars:15,consts:[[1,"main-card"],[1,"ion-margin"],[3,"formGroup"],["formControlName","primoP","label","p","labelPlacement","floating","placeholder","Ingrese un n\xfamero primo","type","number"],["formControlName","generadorG","label","g","labelPlacement","floating","placeholder","Ingrese el n\xfamero generador","type","number"],["formControlName","numeroK","label","k","labelPlacement","floating","placeholder","Ingrese la clave secreta","type","number"],[1,"ion-margin-start","ion-margin-bottom",3,"disabled","click"],[4,"ngIf"],["size","4"],["formControlName","numLetrasPorBloque","label","Letras por bloque ","labelPlacement","stacked","placeholder","Ingrese un n\xfamero","type","number","readonly","true"],["formControlName","textoClaroInput","label","Texto claro","labelPlacement","stacked","placeholder","Ingrese un texto claro","rows","1","autoGrow","true"],[1,"ion-margin",3,"disabled","click"],["formControlName","aleatorioX","label","x","labelPlacement","stacked","placeholder","Ingrese un n\xfamero aleatorio","type","number","rows","1","autoGrow","true"],[1,"ion-no-margin","ion-no-padding"],["formControlName","textoClaroFormateado","label","Texto claro formateado","labelPlacement","floating","readonly","true","autoGrow","true","rows","1"],["formControlName","pesosTextoClaroFormateado","label","Pesos texto formateado","labelPlacement","floating","readonly","true","autoGrow","true","rows","1"],["formControlName","pesosCifradosOutput","label","Pesos cifrados","labelPlacement","floating","readonly","true","autoGrow","true","rows","1"],["formControlName","textoCifradoInput","label","Pesos cifrados","labelPlacement","stacked","placeholder","Ingrese un peso cifrado","type","number","autoGrow","true","rows","1"],["formControlName","textoClaroOutput","label","Pesos descifrados","labelPlacement","floating","readonly","true","autoGrow","true","rows","1"],["lines","none"]],template:function(r,e){1&r&&(o.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o._uU(3," Cifrado Elgamal para CAYD - C. Camilo Bernal Alarc\xf3n "),o.qZA()()(),o.TgZ(4,"ion-content")(5,"ion-grid")(6,"ion-row")(7,"ion-col")(8,"ion-card",0)(9,"ion-card-header")(10,"ion-card-title"),o._uU(11," Cifrador / Descifrador Elgamal "),o.qZA()(),o.TgZ(12,"ion-card-content")(13,"ion-row",1)(14,"ion-col")(15,"form",2)(16,"ion-item"),o._UZ(17,"ion-input",3),o.qZA()()(),o.TgZ(18,"ion-col")(19,"form",2)(20,"ion-item"),o._UZ(21,"ion-input",4),o.qZA()()(),o.TgZ(22,"ion-col")(23,"form",2)(24,"ion-item"),o._UZ(25,"ion-input",5),o.qZA()()()(),o.TgZ(26,"ion-row",1)(27,"ion-col")(28,"ion-button",6),o.NdJ("click",function(){return e.verificarClave()}),o._uU(29," Verificar clave "),o.qZA()(),o.YNc(30,G,5,0,"ion-col",7),o.qZA(),o.TgZ(31,"ion-row",1)(32,"ion-col",8)(33,"form",2)(34,"ion-item"),o._UZ(35,"ion-input",9),o.qZA()()()(),o.TgZ(36,"ion-row",1)(37,"ion-col")(38,"form",2)(39,"ion-item"),o._UZ(40,"ion-textarea",10),o.qZA(),o.TgZ(41,"ion-button",11),o.NdJ("click",function(){return e.cifrar()}),o._uU(42," Cifrar "),o.qZA()()(),o.TgZ(43,"ion-col")(44,"form",2)(45,"ion-item"),o._UZ(46,"ion-textarea",12),o.qZA()()(),o.TgZ(47,"ion-col")(48,"ion-row",13)(49,"ion-col",13)(50,"form",2)(51,"ion-item"),o._UZ(52,"ion-textarea",14),o.qZA()()()(),o.TgZ(53,"ion-row",13)(54,"ion-col",13)(55,"form",2)(56,"ion-item"),o._UZ(57,"ion-textarea",15),o.qZA()()()(),o.TgZ(58,"ion-row",13)(59,"ion-col",13)(60,"form",2)(61,"ion-item"),o._UZ(62,"ion-textarea",16),o.qZA()()()()()(),o.TgZ(63,"ion-row",1)(64,"ion-col")(65,"form",2)(66,"ion-item"),o._UZ(67,"ion-textarea",17),o.qZA(),o.TgZ(68,"ion-button",11),o.NdJ("click",function(){return e.descifrar()}),o._uU(69," Descrifrar "),o.qZA()()(),o.TgZ(70,"ion-col")(71,"form",2)(72,"ion-item"),o._UZ(73,"ion-textarea",18),o.qZA()()()()()()()()()()),2&r&&(o.xp6(15),o.Q6J("formGroup",e.claveForm),o.xp6(4),o.Q6J("formGroup",e.claveForm),o.xp6(4),o.Q6J("formGroup",e.claveForm),o.xp6(5),o.Q6J("disabled",!e.claveForm.valid),o.xp6(2),o.Q6J("ngIf",e.sonParametrosCorrectos),o.xp6(3),o.Q6J("formGroup",e.claveForm),o.xp6(5),o.Q6J("formGroup",e.cifradoForm),o.xp6(3),o.Q6J("disabled",!e.cifradoForm.valid||!e.claveForm.valid||!e.sonParametrosCorrectos),o.xp6(3),o.Q6J("formGroup",e.cifradoForm),o.xp6(6),o.Q6J("formGroup",e.cifradoForm),o.xp6(5),o.Q6J("formGroup",e.cifradoForm),o.xp6(5),o.Q6J("formGroup",e.cifradoForm),o.xp6(5),o.Q6J("formGroup",e.descifradoForm),o.xp6(3),o.Q6J("disabled",!e.descifradoForm.valid||!e.claveForm.valid||!e.sonParametrosCorrectos),o.xp6(3),o.Q6J("formGroup",e.descifradoForm))},dependencies:[I.O5,t._Y,t.JJ,t.JL,t.sg,t.u,n.YG,n.PM,n.FN,n.Zi,n.Dq,n.wI,n.W2,n.jY,n.Gu,n.pK,n.Ie,n.Q$,n.Nd,n.g2,n.wd,n.sr,n.as,n.j9],styles:[".main-card[_ngcontent-%COMP%]{margin:50px 10%;box-shadow:var(--main-card-box-shadow)}"]}),i})()}];let A=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[x.Bz.forChild(N),x.Bz]}),i})(),T=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[I.ez,t.u5,t.UX,n.Pc,A]}),i})()}}]);